!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue"),require("@braid/vue-formulate"),require("element-ui")):"function"==typeof define&&define.amd?define(["vue","@braid/vue-formulate","element-ui"],e):(t=t||self).VueLogics=e(t.Vue,t.VueFormulate,t.ElementUI)}(this,(function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}function f(t){return function(){var e,n=c(t);if(d()){var i=c(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return p(this,e)}}function g(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}
/*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
/*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
function b(t){return!0==(null!=(e=t)&&"object"==typeof e&&!1===Array.isArray(e))&&"[object Object]"===Object.prototype.toString.call(t);var e}function w(t){var e,n;return!1!==b(t)&&("function"==typeof(e=t.constructor)&&(!1!==b(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}
/**
    * vue-class-component v7.2.3
    * (c) 2015-present Evan You
    * @license MIT
    */function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function x(t,e){E(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){E(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){E(t,e,n)}))}function E(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(i){var o=n?Reflect.getOwnMetadata(i,e,n):Reflect.getOwnMetadata(i,e);n?Reflect.defineMetadata(i,o,t,n):Reflect.defineMetadata(i,o,t)}))}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var O={__proto__:[]}instanceof Array;function D(t){"undefined"!=typeof console&&console.warn("[vue-class-component] "+t)}function L(e,n){var i=n.prototype._init;n.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var i in e.$options.props)e.hasOwnProperty(i)||n.push(i);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var o=new n;n.prototype._init=i;var r={};return Object.keys(o).forEach((function(t){void 0!==o[t]&&(r[t]=o[t])})),"production"!==process.env.NODE_ENV&&!(n.prototype instanceof t)&&Object.keys(r).length>0&&D("Component class must inherit Vue or its descendant class when class property is used."),r}var R=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function T(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.name=n.name||e._componentTag||e.name;var i=e.prototype;Object.getOwnPropertyNames(i).forEach((function(t){if("constructor"!==t)if(R.indexOf(t)>-1)n[t]=i[t];else{var e=Object.getOwnPropertyDescriptor(i,t);void 0!==e.value?"function"==typeof e.value?(n.methods||(n.methods={}))[t]=e.value:(n.mixins||(n.mixins=[])).push({data:function(){return k({},t,e.value)}}):(e.get||e.set)&&((n.computed||(n.computed={}))[t]={get:e.get,set:e.set})}})),(n.mixins||(n.mixins=[])).push({data:function(){return L(this,e)}});var o=e.__decorators__;o&&(o.forEach((function(t){return t(n)})),delete e.__decorators__);var r=Object.getPrototypeOf(e.prototype),a=r instanceof t?r.constructor:t,s=a.extend(n);return j(s,e,a),C()&&x(s,e),s}var S=["cid","super","options","superOptions","extendOptions","sealedOptions","component","directive","filter"],B={prototype:!0,arguments:!0,callee:!0,caller:!0};function j(t,e,n){Object.getOwnPropertyNames(e).forEach((function(i){if(!B[i]){var o=Object.getOwnPropertyDescriptor(t,i);if(!o||o.configurable){var r,a,s=Object.getOwnPropertyDescriptor(e,i);if(!O){if("cid"===i)return;var c=Object.getOwnPropertyDescriptor(n,i);if(r=s.value,a=y(r),null!=r&&("object"===a||"function"===a)&&c&&c.value===s.value)return}"production"!==process.env.NODE_ENV&&S.indexOf(i)>=0&&D("Static property name '".concat(i,"' declared on class '").concat(e.name,"' ")+"conflicts with reserved property name of Vue internal. It may cause unexpected behavior of the component. Consider renaming the property."),Object.defineProperty(t,i,s)}}}))}function P(t){return"function"==typeof t?T(t):function(e){return T(e,t)}}P.registerHooks=function(t){R.push.apply(R,_(t))};var M="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function A(t){return void 0===t&&(t={}),function(e,n){var i;!function(t,e,n){if(M&&!Array.isArray(t)&&"function"!=typeof t&&void 0===t.type){var i=Reflect.getMetadata("design:type",e,n);i!==Object&&(t.type=i)}}(t,e,n),(i=function(e,n){(e.props||(e.props={}))[n]=t},function(t,e,n){var o="function"==typeof t?t:t.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof n&&(n=void 0),o.__decorators__.push((function(t){return i(t,e,n)}))})(e,n)}}var F=function t(e,n){var i=this;o(this,t),this.blockElement=void 0,this.node=void 0,this.window=void 0,this.document=void 0,this.html=function(t){return void 0!==t&&(i.node.innerHTML=t),i.node.innerHTML},this.position=function(){var t=i.node.getBoundingClientRect(),e=t.top,n=t.left;return{top:e+i.window.scrollY,left:n+i.window.scrollX}},this.styles=function(t){return Object.assign(i.node.style,t)},this.remove=function(){i.node.remove()},this.blockElement=e,this.node=n,this.window=e.window,this.document=e.document};F.find=function(t){var e=t.window.document.querySelector(".arrowid[value='".concat(t.id,"']"));return null!==e?new F(t,e.parentNode):null};var I=function t(e,n,i){var r=this,a=i.window;o(this,t),this.id=void 0,this.node=void 0,this.window=void 0,this.position=function(){var t=r.node.getBoundingClientRect(),e=t.top,n=t.left,i=r.window.getComputedStyle(r.node),o=i.height,a=i.width;return{top:e+r.window.scrollY,left:n+r.window.scrollX,height:o?parseInt(o,10):0,width:a?parseInt(a,10):0}},this.styles=function(t){return Object.assign(r.node.style,t)},this.arrow=function(){return F.find(r)},this.id=parseInt(e,10),this.node=n,this.window=a};I.find=function(t,e){var n=e.window,i=n.document.querySelector(".blockid[value='".concat(t,"']"));return null!==i?new I(t,i.parentNode,{window:n}):null},I.fromElement=function(t,e){var n=e.window,i=t.querySelector(".blockid");return null!==i?new I(parseInt(i.value,10),t,{window:n}):null};var Y,X,$,z,N,V,q,W=function t(e){var n=this,i=e.parent,r=e.childWidth,a=e.id,s=e.x,c=e.y,l=e.width,d=e.height;o(this,t),this.parent=void 0,this.childWidth=void 0,this.id=void 0,this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.maxWidth=function(){return Math.max(n.childWidth,n.width)},Object.assign(this,{parent:i,childWidth:r,id:a,x:s,y:c,width:l,height:d})},H=function t(e){var n=this,i=e.window,r=e.document,a=e.node,s=e.spacingX,c=void 0===s?20:s,l=e.spacingY,d=void 0===l?80:l;o(this,t),this.window=void 0,this.document=void 0,this.node=void 0,this.spacingX=void 0,this.spacingY=void 0,this.state=void 0,this.blocks=void 0,this.isInitialized=void 0,this.isDragging=void 0,this.isDraggingBlock=void 0,this.isRearranging=void 0,this.isLastEvent=void 0,this.grabbedNode=void 0,this.draggedElement=void 0,this.draggedTree=void 0,this.initialize=function(){n.isInitialized||(n.isInitialized=!0,n.reset())},this.position=function(){var t=n.node.getBoundingClientRect(),e=t.top,i=t.left;return{top:e+n.window.scrollY,left:i+n.window.scrollX,scrollTop:n.node.scrollTop,scrollLeft:n.node.scrollLeft}},this.html=function(t){return void 0!==t&&(n.node.innerHTML=t),n.node.innerHTML},this.appendHtml=function(t){var e=n.document.createElement("div");e.innerHTML=t,n.node.appendChild(e.children[0])},this.appendChild=function(){for(var t=arguments,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=t[o];i.forEach((function(t){return n.node.appendChild(t)}))},this.findBlockElement=function(t){return I.find(t,{window:n.window})},this.import=function(t){var e=t.html,i=t.blockarr;n.html(e),n.replaceBlocks(i)},this.pageX=function(t){return"logics-sidebar"!==t.id?t.offsetLeft+n.pageX(t.offsetParent):t.offsetLeft},this.pageY=function(t){return"logics-sidebar"!==t.id?t.offsetTop+n.pageY(t.offsetParent):t.offsetTop},this.grab=function(t){var e=n.state,i=e.mouseX,o=e.mouseY,r=t.cloneNode(!0),a=n.nextBlockID();if(r.classList.remove("create-flowy"),r.innerHTML+="<input type='hidden' name='blockid' class='blockid' value='".concat(a,"'>"),n.document.getElementById("logics-temp-area").appendChild(r),n.grabbedNode=t,n.registerDragger(r),i&&o){var s=n.setState({dragX:i-n.pageX(t),dragY:o-n.pageY(t)}),c=s.dragX,l=s.dragY;n.draggedElement.styles({left:"".concat(i-c,"px"),top:"".concat(o-l,"px")})}return n.toggleDragger(!0),r},this.registerDragger=function(t){n.draggedElement=I.fromElement(t,{window:n.window})},this.toggleDragger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.remove,o=void 0!==i&&i,r=n.draggedElement;r&&n.grabbedNode&&(t?(n.grabbedNode.classList.add("dragnow"),r.node.classList.add("dragging"),r.node.classList.add("block")):(n.grabbedNode.classList.remove("dragnow"),r.node.classList.remove("dragging"),o&&r.node.remove()))},this.nextBlockID=function(){return 0===n.blocks.length?0:Math.max.apply(Math,g(n.blocks.map((function(t){return t.id}))))+1},this.addBlockForElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.parent,o=void 0===i?-1:i,r=e.childWidth,a=void 0===r?0:r,s=n.position(),c=s.scrollLeft,l=s.scrollTop;n.blocks.push(new W({parent:o,childWidth:a,id:t.id,x:t.position().left+t.position().width/2+c,y:t.position().top+t.position().height/2+l,width:t.position().width,height:t.position().height}))},this.findBlock=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.tree,o=void 0!==i&&i;return(o?n.draggedTree:n.blocks).find((function(e){return e.id===t}))},this.replaceBlocks=function(t){var e;return(e=n.blocks).splice.apply(e,[0,n.blocks.length].concat(g(t)))},this.appendBlocks=function(t){var e;return(e=n.blocks).push.apply(e,g(t))},this.removeBlock=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.removeArrow,o=void 0!==i&&i;if(n.replaceBlocks(n.blocks.filter((function(e){return e.id!==t.id}))),o){var r=n.findBlockElement(t.id);if(r){var a=r.arrow();a&&a.remove()}}},this.findChildBlocks=function(t){return n.blocks.filter((function(e){return e.parent===t}))},this.escapeChar=function(t){return(t+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},this.output=function(){var t=n.blocks;return 0===t.length?null:{html:n.escapeChar(n.html()),blockarr:t.slice(),blocks:t.map((function(t){var e=t.id,i=t.parent,o=n.findBlockElement(e).node;return{id:e,parent:i,data:g(o.querySelectorAll("input")).map((function(t){return{name:t.name,value:t.value}})),attr:g(o.attributes).map((function(t){return{name:t.name,value:t.value}}))}}))}},this.reset=function(){n.html('<div class="indicator invisible"></div>'),n.blocks.splice(0)},this.groupDraggedTree=function(){var t=n.draggedElement,e=t.position(),i=e.top,o=e.left,r=n.findBlock(t.id);n.draggedTree.push(r),n.removeBlock(r,{removeArrow:!0});var a=n.findChildBlocks(r.id),s=a,c=[],l=function(){var e=s.map((function(t){return t.id}));s.forEach((function(e){n.draggedTree.push(e);var r=n.findBlockElement(e.id),a=r.arrow();r.styles({left:"".concat(r.position().left-o,"px"),top:"".concat(r.position().top-i,"px")}),a.styles({left:"".concat(a.position().left-o,"px"),top:"".concat(a.position().top-i,"px")}),t.node.appendChild(r.node),t.node.appendChild(a.node)})),c.push.apply(c,g(s)),s=n.blocks.filter((function(t){var n=t.parent;return e.includes(n)}))};do{l()}while(s.length);a.forEach((function(t){return n.removeBlock(t)})),c.forEach((function(t){return n.removeBlock(t)}))},this.ungroupDraggedTree=function(){var t=n.draggedElement;n.draggedTree.forEach((function(e){if(e.id!==t.id){var i=n.findBlockElement(e.id),o=i.arrow(),r=n.position(),a=r.left,s=r.top,c=r.scrollLeft,l=r.scrollTop;i.styles({left:"".concat(i.position().left-a+c,"px"),top:"".concat(i.position().top-s+l,"px")}),o.styles({left:"".concat(o.position().left-a+c,"px"),top:"".concat(o.position().top-(s+l),"px")}),n.appendChild(i.node,o.node),e.x=i.position().left+i.node.offsetWidth/2+c,e.y=i.position().top+i.node.offsetHeight/2+l}}));var e=n.draggedTree.find((function(t){return 0===t.id}));e&&(e.x=t.position().left+t.position().width/2,e.y=t.position().top+t.position().height/2),n.appendBlocks(n.draggedTree),n.draggedTree.splice(0)},this.inSnapZoneFor=function(t){var e=t.x,i=t.y,o=t.width,r=t.height,a=n.draggedElement.position(),s=a.left,c=a.top,l=a.width,d=n.position(),u=s+l/2+d.scrollLeft,p=c+d.scrollTop;return u>=e-o/2-n.spacingX&&u<=e+o/2+n.spacingX&&p>=i-r/2&&p<=i+r},this.inDropZone=function(){var t=n.draggedElement.position(),e=t.top,i=t.left;return e>n.position().top&&i>n.position().left},this.drop=function(){var t=n.draggedElement,e=n.position(),i=e.top,o=e.left,r=e.scrollTop,a=e.scrollLeft;t.styles({top:"".concat(t.position().top-i+r,"px"),left:"".concat(t.position().left-o+a,"px")}),n.appendChild(t.node),n.addBlockForElement(t)},this.cancelDrop=function(){n.appendChild(n.indicator()),n.toggleDragger(!1,{remove:!0})},this.indicator=function(){return n.document.querySelector(".indicator")},this.showIndicator=function(t,e){var i=n.indicator();if(i)if(t){if(e){var o=n.findBlockElement(e.id);o.node.appendChild(i),i.style.left="".concat(n.draggedElement.position().width/2-5,"px"),i.style.top="".concat(o.position().height,"px")}i.classList.remove("invisible")}else i.classList.contains("invisible")||i.classList.add("invisible")},this.updateDragPosition=function(){var t=n.state,e=t.mouseX,i=t.mouseY,o=t.dragX,r=t.dragY;e&&i&&o&&r&&n.draggedElement.styles({left:e<o?"0px":"".concat(e-o,"px"),top:i<r?"0px":"".concat(i-r,"px")})},this.updateRearrangePosition=function(){var t=n.state,e=t.mouseX,i=t.mouseY,o=t.dragX,r=t.dragY,a=n.position(),s=a.left,c=a.top,l=a.scrollLeft,d=a.scrollTop;e&&i&&o&&r&&n.draggedElement.styles({left:e-o-s+l<0?"0px":"".concat(e-o-s+l,"px"),top:i-r-c+d<0?"0px":"".concat(i-r-c+d,"px")})},this.setState=function(t){return Object.assign(n.state,t)},this.getState=function(t){return n.state[t]},this.toggleDragging=function(t){return n.isDragging=t},this.toggleDraggingBlock=function(t){return n.isDraggingBlock=t},this.toggleRearranging=function(t){return n.isRearranging=t},this.toggleLastEvent=function(t){return n.isLastEvent=t},this.window=i,this.document=r,this.node=a,this.spacingX=c,this.spacingY=d,this.state={mouseX:0,mouseY:0,dragX:0,dragY:0,currentOffsetLeft:0,previousOffsetLeft:0},this.blocks=[],this.isInitialized=!1,this.isDragging=!1,this.isDraggingBlock=!1,this.isRearranging=!1,this.isLastEvent=!1,this.grabbedNode=null,this.draggedElement=null,this.draggedTree=[]},Z=!1,U=function t(e,n,i,r,a,s){var c=this;o(this,t),this.id=void 0,this.node=void 0,this.window=void 0,this.onGrab=void 0,this.onRelease=void 0,this.onSnap=void 0,this.import=void 0,this.output=void 0,this.deleteBlocks=void 0,this.engine=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,r=c;if(c.onGrab=n,c.onRelease=i,c.onSnap=o,!Z){Z=!0,e.initialize(),e.setState({currentOffsetLeft:0,previousOffsetLeft:0}),c.import=function(t){var n=t.html,i=t.blockarr;e.import({html:n,blockarr:i}),u()},c.output=e.output,c.deleteBlocks=e.reset;var a=function(t){var n=t.targetTouches?t.targetTouches[0]:t,i=n.clientX,o=n.clientY;return e.setState({mouseX:i,mouseY:o})};t.addEventListener("mousedown",l,!1),t.addEventListener("touchstart",l,!1),t.addEventListener("mousedown",d),t.addEventListener("touchstart",d),t.addEventListener("mouseup",h,!1),t.addEventListener("mouseup",v,!1),t.addEventListener("touchend",v,!1),t.addEventListener("mousemove",b,!1),t.addEventListener("touchmove",b,!1)}function s(t,e){return!!(t.className&&t.className.split(" ").indexOf(e)>=0)||t.parentNode&&s(t.parentNode,e)}function l(t){if(e.toggleDraggingBlock(!1),s(t.target,"block")){var n=t.target.closest(".block"),i=a(t),o=i.mouseX,r=i.mouseY;if("mouseup"!==t.type&&s(t.target,"block")&&3!==t.which&&!e.isDragging&&!e.isRearranging){e.toggleDraggingBlock(!0),e.registerDragger(n);var c=e.draggedElement;o&&r&&e.setState({dragX:o-c.position().left,dragY:r-c.position().top})}}}function d(t){a(t);var n=t.target,i=t.which,o=n.closest(".create-flowy");3!==i&&null!==o&&(e.grab(o),e.toggleDragging(!0),r.onGrab&&r.onGrab(o))}function u(){for(var t=e.blocks.map((function(t){return t.parent})),n=function(n){-1===t[n]&&(n+=1);var o=0,r=e.findBlock(t[n]),a=e.findChildBlocks(t[n]),s=a.reduce((function(t,o,r){0===e.findChildBlocks(o.id).length&&(o.childWidth=0);var a=t;return 0!==r&&(a+=e.spacingX),i=n,a+o.maxWidth()}),0);-1!==t[n]&&(r.childWidth=s);var c=e.position(),l=c.left,d=c.top;a.forEach((function(t){var n=e.findBlockElement(t.id),i=n.arrow();t.childWidth>t.width?n.styles({left:"".concat(r.x-s/2+o+t.childWidth/2-t.width/2-l,"px")}):n.styles({left:"".concat(r.x-s/2+o-l,"px")}),t.x=r.x-s/2+o+t.maxWidth()/2,o+=t.maxWidth()+e.spacingX;var a=e.findBlock(t.parent),c=a.x,u=a.y,p=a.height,f=e.blocks.find((function(e){return e.id===t.id})),g=f.x,v=g-c+20,h=f.y-f.height/2-(u+p/2);i.styles({top:"".concat(u+p/2-d,"px")}),v<0?(i.styles({left:"".concat(g-5-l,"px")}),i.html('\n              <input type="hidden" class="arrowid" value="'.concat(t.id,'">\n              <svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="\n                  M ').concat(c-g+5," 0\n                  L ").concat(a.x-g+5," ").concat(e.spacingY/2,"\n                  L 5 ").concat(e.spacingY/2,"\n                  L 5 ").concat(h,'" stroke="#C5CCD0" stroke-width="2px"/>\n                <path d="\n                  M 0 ').concat(h-5,"\n                  H 10\n                  L 5 ").concat(h,"\n                  L 0 ").concat(h-5,'\n                  Z" fill="#C5CCD0"/>\n              </svg>\n            '))):(i.styles({left:"".concat(c-20-l,"px")}),i.html('\n              <input type="hidden" class="arrowid" value="'.concat(t.id,'">\n              <svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="\n                  M 20 0\n                  L 20 ').concat(e.spacingY/2,"\n                  L ").concat(v," ").concat(e.spacingY/2,"\n                  L ").concat(v," ").concat(h,'" stroke="#C5CCD0" stroke-width="2px"/>\n                <path d="\n                  M ').concat(v-5," ").concat(h-5,"\n                  H ").concat(v+5,"\n                  L ").concat(v," ").concat(h,"\n                  L ").concat(v-5," ").concat(h-5,'\n                  Z" fill="#C5CCD0"/>\n              </svg>\n            ')))})),i=n},i=0;i<t.length;i+=1)n(i)}function p(){var t=e.blocks.map((function(t){return t.width})),n=Math.min.apply(Math,g(e.blocks.map((function(e,n){return e.x-t[n]/2}))));e.setState({currentOffsetLeft:n}),n<e.position().left&&(e.toggleLastEvent(!0),e.blocks.forEach((function(t){var i=t.id,o=t.x,r=t.width,a=t.parent,s=e.findBlockElement(i);if(s.styles({left:"".concat(o-r/2-n+20,"px")}),-1!==a){var c=s.arrow(),l=e.blocks.find((function(t){return t.id===a})).x,d=o-l;c.styles({left:"".concat(d<0?o-n+20-5:l-20-n+20,"px")})}})),e.blocks.forEach((function(t){var n=e.findBlockElement(t.id);t.x=n.position().left+(e.position().left+e.position().scrollLeft)-e.draggedElement.position().width/2-40})),e.setState({previousOffsetLeft:n}))}function f(t){var n=e.draggedElement;e.isRearranging||e.appendChild(n.node);var i=0,o=e.findChildBlocks(t.id),r=o.reduce((function(t,n){return t+(0,n.maxWidth)()+e.spacingX}),e.draggedElement.position().width);o.forEach((function(n){var o=n.id,a=n.childWidth,s=n.width,c=n.maxWidth,l=e.findBlockElement(o),d=t.x-r/2+i;n.x=d+c()/2+200,i+=c()+e.spacingX,a>s&&(d+=a/2-s/2),l&&l.styles({left:"".concat(d,"px")})}));var a=e.position(),s=a.top,c=a.left,l=a.scrollTop,d=a.scrollLeft;if(e.draggedElement.styles({left:"".concat(t.x-r/2+i-c+d,"px"),top:"".concat(t.y+t.height/2+e.spacingY-s,"px")}),e.isRearranging){var f=n.position(),g=f.height,v=f.width,h=e.findBlock(n.id,{tree:!0});h&&(h.x=n.position().left+v/2+2*d,h.y=n.position().top+g/2+l,h.parent=t.id),e.draggedTree.forEach((function(t){if(t.id!==n.id){var i=e.findBlockElement(t.id),o=i.arrow(),r=i.node,a=o.node;i.styles({left:"".concat(i.position().left-c+d,"px"),top:"".concat(i.position().top-s+l,"px")}),o.styles({left:"".concat(o.position().left-c+d+20,"px"),top:"".concat(o.position().top-s+l,"px")}),e.appendChild(r,a),t.x=i.position().left+v/2+d,t.y=i.position().top+g/2+l}})),e.appendBlocks(e.draggedTree),e.draggedTree.splice(0)}else e.addBlockForElement(n,{parent:t.id});var m=e.findBlock(n.id),b=m.x,w=m.y,y=m.height,k=b-t.x+20,_=parseFloat("".concat(w-y/2-(e.blocks.find((function(e){return e.parent===t.id})).y+e.blocks.find((function(e){return e.parent===t.id})).height/2)+l));k<0?(e.appendHtml('\n          <div class="arrowblock">\n            <input type="hidden" class="arrowid" value="'.concat(n.id,'">\n            <svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="\n                M ').concat(t.x-b+5," 0\n                L ").concat(t.x-b+5," ").concat(e.spacingY/2,"\n                L 5 ").concat(e.spacingY/2,"\n                L 5 ").concat(_,'" stroke="#C5CCD0" stroke-width="2px"/>\n              <path d="\n                M 0 ').concat(_-5,"\n                H 10\n                L 5 ").concat(_,"\n                L 0 ").concat(_-5,'\n                Z" fill="#C5CCD0"/>\n            </svg>\n          </div>\n        ')),n.arrow().styles({left:"".concat(b-5-c+d,"px")})):(e.appendHtml('\n          <div class="arrowblock">\n            <input type="hidden" class="arrowid" value="'.concat(n.id,'">\n            <svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="\n                M 20 0\n                L 20 ').concat(e.spacingY/2,"\n                L ").concat(k," ").concat(e.spacingY/2,"\n                L ").concat(k," ").concat(_,'" stroke="#C5CCD0" stroke-width="2px"/>\n              <path d="\n                M ').concat(k-5," ").concat(_-5,"\n                H ").concat(k+5,"\n                L ").concat(k," ").concat(_,"\n                L ").concat(k-5," ").concat(_-5,'\n                Z" fill="#C5CCD0"/>\n            </svg>\n          </div>\n        ')),n.arrow().styles({left:"".concat(t.x-20-c+d,"px")})),n.arrow().styles({top:"".concat(t.y+t.height/2,"px")}),-1!==t.parent&&function(){var n=t;do{var i=e.blocks.filter((function(t){return t.parent===n.id}));n.childWidth=i.reduce((function(t,n,i){var o=n.maxWidth,r=t;return 0!==i&&(r+=e.spacingX),r+o()}),0),n=e.blocks.find((function(t){return t.id===n.parent}))}while(-1!==n.parent);n.childWidth=r}(),e.isRearranging&&(e.toggleRearranging(!1),e.toggleDragger(!1)),u(),p()}function v(t){if(3!==t.which&&(e.isDragging||e.isRearranging)){e.toggleDraggingBlock(!1),r.onRelease&&r.onRelease(),e.showIndicator(!1);var n=e.draggedElement;if(e.isDragging&&e.toggleDragger(!1),0===n.id&&e.isRearranging)e.toggleDragger(!1),e.toggleRearranging(!1),e.ungroupDraggedTree();else if(e.isDragging&&0===e.blocks.length)e.inDropZone()?(r.onSnap&&r.onSnap(n.node,!0,void 0),e.toggleDragging(!1),e.drop()):e.cancelDrop();else if(e.isDragging||e.isRearranging){e.blocks.find((function(t){return!!e.inSnapZoneFor(t)&&(e.toggleDragging(!1),e.isRearranging||r.onSnap&&r.onSnap(n.node,!1,t),f(t),!0)}))||(e.isRearranging&&(e.toggleRearranging(!1),e.draggedTree.splice(0)),e.toggleDragging(!1),e.cancelDrop())}}}function h(){e.toggleDraggingBlock(!1)}function m(){var t=e.state.previousOffsetLeft;if(t){if(t>=e.position().left)return;e.toggleLastEvent(!1),e.blocks.forEach((function(n){var i=n.id,o=n.x,r=n.width,a=n.parent,s=e.findBlockElement(i),c=s.arrow();if(s.styles({left:"".concat(o-r/2-t-20,"px")}),n.x=s.position().left+r/2,-1!==a){var l=e.blocks.find((function(t){return t.id===a})).x,d=o-l;c.styles({left:"".concat(d<0?o-5-e.position().left:l-20-e.position().left,"px")})}})),e.setState({previousOffsetLeft:0})}}function b(t){(a(t),e.isDraggingBlock&&(e.toggleRearranging(!0),e.toggleDragger(!0),e.groupDraggedTree(),e.blocks.length>1&&u(),e.isLastEvent&&m(),e.toggleDraggingBlock(!1)),e.isDragging?e.updateDragPosition():e.isRearranging&&e.updateRearrangePosition(),e.isDragging||e.isRearranging)&&(e.blocks.find((function(t){return!!e.inSnapZoneFor(t)&&(e.showIndicator(!0,t),!0)}))||e.showIndicator(!1))}},this.engine(document,new H({spacingX:a,spacingY:s,window:window,document:document,node:e}),n,i,r)};function G(t,e,n,i,o,r,a,s,c,l){"boolean"!=typeof a&&(c=s,s=a,a=!1);var d,u="function"==typeof n?n.options:n;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),r?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=d):e&&(d=a?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),d)if(u.functional){var p=u.render;u.render=function(t,e){return d.call(e),p(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,d):[d]}return n}var K=(Y=P({name:"action",components:{"el-drawer":n.Drawer}}),X=A({default:"Action's title"}),$=A({default:"Action's description"}),Y((V=m((N=function(t){s(n,t);var e=f(n);function n(){var t,i=arguments;o(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=i[s];return h(t=e.call.apply(e,[this].concat(a)),"title",V,u(t)),h(t,"desc",q,u(t)),t.drawer=!1,t.direction="rtl",t.formValues={},t}return n}(t)).prototype,"title",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=m(N.prototype,"desc",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=N))||z),J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blockin",on:{click:function(e){t.drawer=!0}}},[t._t("icon",[n("i",{staticClass:"blockico el-icon-menu"})]),t._v(" "),n("div",{staticClass:"blocktext"},[n("div",{staticClass:"blocktitle"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"blockdesc"},[t._v(t._s(t.desc))])]),t._v(" "),n("el-drawer",{attrs:{visible:t.drawer,direction:t.direction,"append-to-body":!0,"show-close":!1},on:{"update:visible":function(e){t.drawer=e}}},[n("template",{slot:"title"},[n("h2",[t._v("Properties")])]),t._v(" "),[n("FormulateForm",{staticClass:"property-form",model:{value:t.formValues,callback:function(e){t.formValues=e},expression:"formValues"}},[n("p",[t._v("\n          Action provides you a set of actions to initiate.\n        ")]),t._v(" "),n("FormulateInput",{attrs:{name:"title",type:"text",label:"Action's title",placeholder:"Title",validation:"required"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),n("FormulateInput",{attrs:{name:"desc",type:"text",label:"Action's description",placeholder:"Description",validation:"required"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}}),t._v(" "),n("div",{staticClass:"double-wide"},[n("FormulateInput",{attrs:{name:"password",type:"password",label:"Password",placeholder:"Your password",validation:"required"}}),t._v(" "),n("FormulateInput",{attrs:{name:"password_confirm",type:"password",label:"Confirm your password",placeholder:"Confirm password",validation:"required|confirm","validation-name":"Confirmation"}})],1),t._v(" "),n("FormulateInput",{attrs:{type:"submit",label:"Register"}}),t._v(" "),n("pre",{staticClass:"code",domProps:{textContent:t._s(t.formValues)}})],1)]],2)],2)};J._withStripped=!0;var Q,tt,et,nt,it,ot,rt,at=G({render:J,staticRenderFns:[]},void 0,K,"data-v-2194d3e9",!1,void 0,!1,void 0,void 0,void 0),st=(Q=P({name:"condition",components:{"el-drawer":n.Drawer}}),tt=A({default:"Condition's title"}),et=A({default:"Condition's description"}),Q((ot=m((it=function(t){s(n,t);var e=f(n);function n(){var t,i=arguments;o(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=i[s];return h(t=e.call.apply(e,[this].concat(a)),"title",ot,u(t)),h(t,"desc",rt,u(t)),t.drawer=!1,t.direction="rtl",t.formValues={},t}return n}(t)).prototype,"title",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=m(it.prototype,"desc",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=it))||nt),ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blockin",on:{click:function(e){t.drawer=!0}}},[t._t("icon",[n("i",{staticClass:"blockico el-icon-menu"})]),t._v(" "),n("div",{staticClass:"blocktext"},[n("div",{staticClass:"blocktitle"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"blockdesc"},[t._v(t._s(t.desc))])]),t._v(" "),n("el-drawer",{attrs:{visible:t.drawer,direction:t.direction,"append-to-body":!0,"show-close":!1},on:{"update:visible":function(e){t.drawer=e}}},[n("template",{slot:"title"},[n("h2",[t._v("Properties")])]),t._v(" "),[n("FormulateForm",{staticClass:"property-form",model:{value:t.formValues,callback:function(e){t.formValues=e},expression:"formValues"}},[n("p",[t._v("\n          Condition lets you have different actions based on different scenarios.\n        ")]),t._v(" "),n("FormulateInput",{attrs:{name:"title",type:"text",label:"Condition's title",placeholder:"Title",validation:"required"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),n("FormulateInput",{attrs:{name:"desc",type:"text",label:"Condition's description",placeholder:"Description",validation:"required"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}}),t._v(" "),n("div",{staticClass:"double-wide"},[n("FormulateInput",{attrs:{name:"password",type:"password",label:"Password",placeholder:"Your password",validation:"required"}}),t._v(" "),n("FormulateInput",{attrs:{name:"password_confirm",type:"password",label:"Confirm your password",placeholder:"Confirm password",validation:"required|confirm","validation-name":"Confirmation"}})],1),t._v(" "),n("FormulateInput",{attrs:{type:"submit",label:"Register"}}),t._v(" "),n("pre",{staticClass:"code",domProps:{textContent:t._s(t.formValues)}})],1)]],2)],2)};ct._withStripped=!0;var lt,dt,ut,pt,ft,gt,vt,ht=G({render:ct,staticRenderFns:[]},void 0,st,"data-v-ad561b8c",!1,void 0,!1,void 0,void 0,void 0),mt=(lt=P({components:{"el-col":n.Col,"el-row":n.Row}}),dt=A({default:"Trigger's title"}),ut=A({default:"Trigger's description"}),lt((gt=m((ft=function(t){s(n,t);var e=f(n);function n(){var t,i=arguments;o(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=i[s];return h(t=e.call.apply(e,[this].concat(a)),"title",gt,u(t)),h(t,"desc",vt,u(t)),t}return n}(t)).prototype,"title",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=m(ft.prototype,"desc",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=ft))||pt),bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"handle"},[n("el-col",[n("div",{staticClass:"blockelem create-flowy",attrs:{blockelemtype:"action"}},[n("div",{staticClass:"blockin"},[t._t("icon",[n("i",{staticClass:"blockico el-icon-menu"})]),t._v(" "),n("div",{staticClass:"blocktext"},[n("div",{staticClass:"blocktitle"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"blockdesc"},[t._v(t._s(t.desc))])])],2)])])],1)};bt._withStripped=!0;var wt,yt,kt,_t,Ct,xt,Et,Ot=G({render:bt,staticRenderFns:[]},void 0,mt,void 0,!1,void 0,!1,void 0,void 0,void 0),Dt=(wt=P({components:{"el-col":n.Col,"el-row":n.Row}}),yt=A({default:"Condition's title"}),kt=A({default:"Condition's description"}),wt((xt=m((Ct=function(t){s(n,t);var e=f(n);function n(){var t,i=arguments;o(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=i[s];return h(t=e.call.apply(e,[this].concat(a)),"title",xt,u(t)),h(t,"desc",Et,u(t)),t}return n}(t)).prototype,"title",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=m(Ct.prototype,"desc",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=Ct))||_t),Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"handle"},[n("el-col",[n("div",{staticClass:"blockelem create-flowy",attrs:{blockelemtype:"condition"}},[n("div",{staticClass:"blockin"},[t._t("icon",[n("i",{staticClass:"blockico el-icon-menu"})]),t._v(" "),n("div",{staticClass:"blocktext"},[n("div",{staticClass:"blocktitle"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"blockdesc"},[t._v(t._s(t.desc))])])],2)])])],1)};Lt._withStripped=!0;var Rt,Tt,St,Bt,jt,Pt,Mt,At=G({render:Lt,staticRenderFns:[]},void 0,Dt,void 0,!1,void 0,!1,void 0,void 0,void 0),Ft=(Rt=P({components:{"el-col":n.Col,"el-row":n.Row}}),Tt=A({default:"Trigger's title"}),St=A({default:"Trigger's description"}),Rt((Pt=m((jt=function(t){s(n,t);var e=f(n);function n(){var t,i=arguments;o(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=i[s];return h(t=e.call.apply(e,[this].concat(a)),"title",Pt,u(t)),h(t,"desc",Mt,u(t)),t}return n}(t)).prototype,"title",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=m(jt.prototype,"desc",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=jt))||Bt),It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"handle"},[n("el-col",[n("div",{staticClass:"blockelem create-flowy",attrs:{blockelemtype:"trigger"}},[n("div",{staticClass:"blockin"},[t._t("icon",[n("i",{staticClass:"blockico el-icon-menu"})]),t._v(" "),n("div",{staticClass:"blocktext"},[n("div",{staticClass:"blocktitle"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"blockdesc"},[t._v(t._s(t.desc))])])],2)])])],1)};It._withStripped=!0;var Yt,Xt=P({components:{Action:Ot,Condition:At,Trigger:G({render:It,staticRenderFns:[]},void 0,Ft,void 0,!1,void 0,!1,void 0,void 0,void 0),"el-tabs":n.Tabs,"el-tab-pane":n.TabPane}})(Yt=function(t){s(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return n}(t))||Yt,$t=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",{attrs:{label:"Triggers"}},[e("trigger",{attrs:{title:"New visitor",desc:"Triggers when somebody visits a specified page"}},[e("template",{slot:"icon"},[e("i",{staticClass:"blockico el-icon-user-solid"})])],2),this._v(" "),e("trigger",{attrs:{title:"Action is performed",desc:"Action is performed and finished"}},[e("template",{slot:"icon"},[e("i",{staticClass:"blockico el-icon-s-promotion"})])],2)],1),this._v(" "),e("el-tab-pane",{attrs:{label:"Actions"}},[e("action",{attrs:{title:"Clone the webpage",desc:"Clone the webpage and respond"}},[e("template",{slot:"icon"},[e("i",{staticClass:"blockico el-icon-document-add"})])],2)],1),this._v(" "),e("el-tab-pane",{attrs:{label:"Conditions"}},[e("condition",{attrs:{title:"If it's true",desc:"The truth condition"}},[e("template",{slot:"icon"},[e("i",{staticClass:"blockico el-icon-check"})])],2),this._v(" "),e("condition",{attrs:{title:"If it's false",desc:"The falsy condition"}},[e("template",{slot:"icon"},[e("i",{staticClass:"blockico el-icon-close"})])],2)],1)],1)],1)};$t._withStripped=!0;var zt,Nt,Vt,qt,Wt,Ht,Zt,Ut=G({render:$t,staticRenderFns:[]},void 0,Xt,void 0,!1,void 0,!1,void 0,void 0,void 0),Gt=(zt=P({name:"trigger",components:{"el-drawer":n.Drawer}}),Nt=A({default:"Trigger's title"}),Vt=A({default:"Trigger's description"}),zt((Ht=m((Wt=function(t){s(n,t);var e=f(n);function n(){var t,i=arguments;o(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=i[s];return h(t=e.call.apply(e,[this].concat(a)),"title",Ht,u(t)),h(t,"desc",Zt,u(t)),t.drawer=!1,t.direction="rtl",t.formValues={},t.isMoving=!1,t}return a(n,[{key:"findDragging",value:function(t){return"logics-canvas"!==t.id&&(console.log(t.classList),!!t.classList.contains("dragging")||this.findDragging(t.parentElement))}},{key:"onMouseDown",value:function(){this.isMoving=!1}},{key:"onMouseMove",value:function(){this.isMoving=!0}},{key:"onMouseUp",value:function(t){this.isMoving||(this.drawer=!0),this.isMoving=!1}}]),n}(t)).prototype,"title",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=m(Wt.prototype,"desc",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=Wt))||qt),Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blockin",on:{mousedown:t.onMouseDown,mousemove:t.onMouseMove,mouseup:t.onMouseUp}},[t._t("icon",[n("i",{staticClass:"blockico el-icon-menu"})]),t._v(" "),n("div",{staticClass:"blocktext"},[n("div",{staticClass:"blocktitle"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"blockdesc"},[t._v(t._s(t.desc))])]),t._v(" "),n("el-drawer",{attrs:{visible:t.drawer,direction:t.direction,"append-to-body":!0,"show-close":!1},on:{"update:visible":function(e){t.drawer=e}}},[n("template",{slot:"title"},[n("h2",[t._v("Properties")])]),t._v(" "),[n("FormulateForm",{staticClass:"property-form",model:{value:t.formValues,callback:function(e){t.formValues=e},expression:"formValues"}},[n("p",[t._v("\n          Trigger can be used to define a timing and intercept certain events.\n        ")]),t._v(" "),n("FormulateInput",{attrs:{name:"title",type:"text",label:"Trigger's title",placeholder:"Title",validation:"required"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),n("FormulateInput",{attrs:{name:"desc",type:"text",label:"Trigger's description",placeholder:"Description",validation:"required"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}}),t._v(" "),n("div",{staticClass:"double-wide"},[n("FormulateInput",{attrs:{name:"password",type:"password",label:"Password",placeholder:"Your password",validation:"required"}}),t._v(" "),n("FormulateInput",{attrs:{name:"password_confirm",type:"password",label:"Confirm your password",placeholder:"Confirm password",validation:"required|confirm","validation-name":"Confirmation"}})],1),t._v(" "),n("FormulateInput",{attrs:{type:"submit",label:"Register"}}),t._v(" "),n("pre",{staticClass:"code",domProps:{textContent:t._s(t.formValues)}})],1)]],2)],2)};Kt._withStripped=!0;var Jt,Qt,te,ee,ne,ie,oe,re=G({render:Kt,staticRenderFns:[]},void 0,Gt,"data-v-71b31e07",!1,void 0,!1,void 0,void 0,void 0);t.use(e);var ae=(Jt=P({name:"vue-logics-view",components:{Sidebar:Ut}}),Qt=A({default:"740px"}),te=A({default:"400px"}),Jt((ie=m((ne=function(e){s(i,e);var n=f(i);function i(){var t,e=arguments;o(this,i);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=e[s];return h(t=n.call.apply(n,[this].concat(a)),"width",ie,u(t)),h(t,"height",oe,u(t)),t.flowy=void 0,t}return a(i,[{key:"onSnap",value:function(e,n,i){var o=e.getAttribute("blockelemtype"),r=e.querySelector(".blockin"),a=null;if(r.parentNode.removeChild(r),"action"===o)(a=new(t.extend(at))({propsData:{title:"Clone the webpage",desc:"Clone the webpage and respond"}})).$slots.icon=[a.$createElement("i",{attrs:{class:"blockico el-icon-document-add"}})];else if("condition"===o){(a=new(t.extend(ht))({propsData:{title:"If it's true",desc:"The truth condition"}})).$slots.icon=[a.$createElement("i",{attrs:{class:"blockico el-icon-check"}})]}else if("trigger"===o){(a=new(t.extend(re))({propsData:{title:"New visitor",desc:"Triggers when somebody visits a specified page"}})).$slots.icon=[a.$createElement("i",{attrs:{class:"blockico el-icon-user-solid"}})]}return a.$mount(),e.appendChild(a.$el),!0}},{key:"mounted",value:function(){!0!==window.VueLogicsTest&&(this.flowy=new U(this.$refs.canvas,void 0,void 0,this.onSnap,40,40),this.$logics.import=this.flowy.import,this.$logics.output=this.flowy.output,this.$logics.deleteBlocks=this.flowy.deleteBlocks)}}]),i}(t)).prototype,"width",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=m(ne.prototype,"height",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=ne))||ee),se=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-logics",style:{width:this.width}},[e("sidebar",{ref:"sidebar",attrs:{id:"logics-sidebar"}}),this._v(" "),e("div",{style:{height:this.height},attrs:{id:"logics-container"}},[e("div",{ref:"canvas",style:{height:this.height},attrs:{id:"logics-canvas"}}),this._v(" "),e("div",{attrs:{id:"logics-temp-area"}})])],1)};se._withStripped=!0;var ce=G({render:se,staticRenderFns:[]},void 0,ae,void 0,!1,void 0,!1,void 0,void 0,void 0);return new(function(){function t(){o(this,t),this.defaults=void 0,this.flowy=void 0,this.options=void 0,this.defaults={components:{VueLogics:ce}},this.options=void 0}return a(t,[{key:"install",value:function(t,e){if(t.prototype.$logics=this,this.options=this.defaults,this.extend(e||{}),this.options)for(var n in this.options.components)t.component(n,this.options.components[n])}},{key:"extend",value:function(t){if("object"===i(t))return this.options=this.merge(this.options,t),this;throw new Error("VueFormulate extend() should be passed an object (was ".concat(i(t),")"))}},{key:"merge",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={};for(var o in t)e.hasOwnProperty(o)?w(e[o])&&w(t[o])?i[o]=this.merge(t[o],e[o],n):n&&Array.isArray(t[o])&&Array.isArray(e[o])?i[o]=t[o].concat(e[o]):i[o]=e[o]:i[o]=t[o];for(var r in e)i.hasOwnProperty(r)||(i[r]=e[r]);return i}}]),t}())}));
